<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Grocery List</title>
  <style>
    /* Modern Design */
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-color: #1e1e2f;
      margin: 0;
      padding: 20px;
      color: #ffffff;
    }
    .container {
      max-width: 1200px;
      margin: 0 auto;
      background-color: #2a2a40;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
    }
    h1 {
      text-align: center;
      color: #ffffff;
      font-size: 2.5rem;
      margin-bottom: 20px;
      font-weight: 600;
    }
    .categories {
      display: flex;
      gap: 20px;
      flex-wrap: wrap;
    }
    .category {
      flex: 1;
      min-width: 250px;
      background-color: #3a3a5a;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
    }
    .category h2 {
      background-color: #007bff;
      color: white;
      padding: 12px;
      border-radius: 8px;
      text-align: center;
      font-size: 1.5rem;
      margin-bottom: 15px;
      font-weight: 500;
    }
    .category ul {
      list-style-type: none;
      padding: 0;
      margin: 0;
    }
    .category li {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 12px;
      border-bottom: 1px solid #444;
      transition: background-color 0.3s ease;
    }
    .category li:last-child {
      border-bottom: none;
    }
    .category li:hover {
      background-color: #4a4a6a;
    }
    .quantity {
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .quantity button {
      background-color: #007bff;
      padding: 8px 12px;
      border-radius: 6px;
      border: none;
      color: white;
      cursor: pointer;
      font-size: 1rem;
      transition: background-color 0.3s ease;
    }
    .quantity button:hover {
      background-color: #005bb5;
    }
    .quantity span {
      font-size: 1.1rem;
      font-weight: 500;
    }
    .custom-item {
      margin-top: 15px;
      display: flex;
      gap: 10px;
    }
    .custom-item input {
      flex: 1;
      padding: 8px;
      border: 1px solid #444;
      border-radius: 6px;
      background-color: #2a2a40;
      color: #ffffff;
      font-size: 1rem;
    }
    .custom-item button {
      background-color: #28a745;
      color: white;
      border: none;
      padding: 8px 12px;
      border-radius: 6px;
      cursor: pointer;
      font-size: 1rem;
      transition: background-color 0.3s ease;
    }
    .custom-item button:hover {
      background-color: #218838;
    }
    .generate-pdf {
      text-align: center;
      margin-top: 30px;
    }
    .generate-pdf button {
      background-color: #28a745;
      color: white;
      border: none;
      padding: 12px 24px;
      border-radius: 8px;
      cursor: pointer;
      font-size: 1.1rem;
      font-weight: 500;
      transition: background-color 0.3s ease;
    }
    .generate-pdf button:hover {
      background-color: #218838;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Grocery List</h1>

    <!-- Categories -->
    <div class="categories">
      <!-- Pulses & Lentils (Dhal) -->
      <div class="category">
        <h2>Pulses & Lentils (Dhal)</h2>
        <ul>
          <li>
            <span>Pigeon Pea (Toor Dal)</span>
            <div class="quantity">
              <button onclick="decreaseQuantity('Pigeon Pea (Toor Dal)')">-</button>
              <span id="qty-Pigeon Pea (Toor Dal)">0</span>
              <button onclick="increaseQuantity('Pigeon Pea (Toor Dal)')">+</button>
            </div>
          </li>
          <li>
            <span>Urad Dal</span>
            <div class="quantity">
              <button onclick="decreaseQuantity('Urad Dal')">-</button>
              <span id="qty-Urad Dal">0</span>
              <button onclick="increaseQuantity('Urad Dal')">+</button>
            </div>
          </li>
          <li>
            <span>Chickpea Split (Chana Dal)</span>
            <div class="quantity">
              <button onclick="decreaseQuantity('Chickpea Split (Chana Dal)')">-</button>
              <span id="qty-Chickpea Split (Chana Dal)">0</span>
              <button onclick="increaseQuantity('Chickpea Split (Chana Dal)')">+</button>
            </div>
          </li>
          <li>
            <span>Black Chickpeas</span>
            <div class="quantity">
              <button onclick="decreaseQuantity('Black Chickpeas')">-</button>
              <span id="qty-Black Chickpeas">0</span>
              <button onclick="increaseQuantity('Black Chickpeas')">+</button>
            </div>
          </li>
          <li>
            <span>White Chickpeas</span>
            <div class="quantity">
              <button onclick="decreaseQuantity('White Chickpeas')">-</button>
              <span id="qty-White Chickpeas">0</span>
              <button onclick="increaseQuantity('White Chickpeas')">+</button>
            </div>
          </li>
        </ul>
        <!-- Custom Item Input -->
        <div class="custom-item">
          <input type="text" id="custom-pulses" placeholder="Add custom item">
          <button onclick="addCustomItem('pulses')">Add</button>
        </div>
      </div>

      <!-- Rice & Flours -->
      <div class="category">
        <h2>Rice & Flours</h2>
        <ul>
          <li>
            <span>Basmati Rice</span>
            <div class="quantity">
              <button onclick="decreaseQuantity('Basmati Rice')">-</button>
              <span id="qty-Basmati Rice">0</span>
              <button onclick="increaseQuantity('Basmati Rice')">+</button>
            </div>
          </li>
          <li>
            <span>Aromatic Rice</span>
            <div class="quantity">
              <button onclick="decreaseQuantity('Aromatic Rice')">-</button>
              <span id="qty-Aromatic Rice">0</span>
              <button onclick="increaseQuantity('Aromatic Rice')">+</button>
            </div>
          </li>
          <li>
            <span>Rice for Idly</span>
            <div class="quantity">
              <button onclick="decreaseQuantity('Rice for Idly')">-</button>
              <span id="qty-Rice for Idly">0</span>
              <button onclick="increaseQuantity('Rice for Idly')">+</button>
            </div>
          </li>
          <li>
            <span>Raw Rice</span>
            <div class="quantity">
              <button onclick="decreaseQuantity('Raw Rice')">-</button>
              <span id="qty-Raw Rice">0</span>
              <button onclick="increaseQuantity('Raw Rice')">+</button>
            </div>
          </li>
        </ul>
        <!-- Custom Item Input -->
        <div class="custom-item">
          <input type="text" id="custom-rice" placeholder="Add custom item">
          <button onclick="addCustomItem('rice')">Add</button>
        </div>
      </div>

      <!-- Spices & Seasonings -->
      <div class="category">
        <h2>Spices & Seasonings</h2>
        <ul>
          <li>
            <span>Turmeric Powder</span>
            <div class="quantity">
              <button onclick="decreaseQuantity('Turmeric Powder')">-</button>
              <span id="qty-Turmeric Powder">0</span>
              <button onclick="increaseQuantity('Turmeric Powder')">+</button>
            </div>
          </li>
          <li>
            <span>Sambar Powder</span>
            <div class="quantity">
              <button onclick="decreaseQuantity('Sambar Powder')">-</button>
              <span id="qty-Sambar Powder">0</span>
              <button onclick="increaseQuantity('Sambar Powder')">+</button>
            </div>
          </li>
          <li>
            <span>Garam Masala</span>
            <div class="quantity">
              <button onclick="decreaseQuantity('Garam Masala')">-</button>
              <span id="qty-Garam Masala">0</span>
              <button onclick="increaseQuantity('Garam Masala')">+</button>
            </div>
          </li>
        </ul>
        <!-- Custom Item Input -->
        <div class="custom-item">
          <input type="text" id="custom-spices" placeholder="Add custom item">
          <button onclick="addCustomItem('spices')">Add</button>
        </div>
      </div>
    </div>

    <!-- Generate PDF Button -->
    <div class="generate-pdf">
      <button onclick="generatePDF()">Generate PDF</button>
    </div>
  </div>

  <!-- Include jsPDF library -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script>
    // Track quantities for each item
    let quantities = JSON.parse(localStorage.getItem('quantities')) || {};

    // Initialize quantities if not already set
    function initializeQuantity(itemName) {
      if (!quantities[itemName]) {
        quantities[itemName] = 0;
      }
      document.getElementById(`qty-${itemName}`).textContent = quantities[itemName];
    }

    // Increase quantity
    function increaseQuantity(itemName) {
      quantities[itemName]++;
      updateQuantity(itemName);
    }

    // Decrease quantity
    function decreaseQuantity(itemName) {
      if (quantities[itemName] > 0) {
        quantities[itemName]--;
        updateQuantity(itemName);
      }
    }

    // Update quantity display and localStorage
    function updateQuantity(itemName) {
      document.getElementById(`qty-${itemName}`).textContent = quantities[itemName];
      localStorage.setItem('quantities', JSON.stringify(quantities));
    }

    // Add custom item
    function addCustomItem(category) {
      const input = document.getElementById(`custom-${category}`);
      const itemName = input.value.trim();
      if (itemName && !quantities[itemName]) {
        quantities[itemName] = 0;
        const ul = input.closest('.category').querySelector('ul');
        const li = document.createElement('li');
        li.innerHTML = `
          <span>${itemName}</span>
          <div class="quantity">
            <button onclick="decreaseQuantity('${itemName}')">-</button>
            <span id="qty-${itemName}">0</span>
            <button onclick="increaseQuantity('${itemName}')">+</button>
          </div>
        `;
        ul.appendChild(li);
        input.value = '';
        updateQuantity(itemName);
      }
    }

    // Generate PDF
    function generatePDF() {
      const { jsPDF } = window.jspdf;
      const doc = new jsPDF();

      // Get the current month
      const months = [
        "January", "February", "March", "April", "May", "June",
        "July", "August", "September", "October", "November", "December"
      ];
      const currentDate = new Date();
      const currentMonth = months[currentDate.getMonth()];

      // Add title with month
      doc.setFontSize(18);
      doc.text(`Grocery List - ${currentMonth}`, 10, 10);

      // Add items to the PDF
      let y = 20;
      for (const [itemName, quantity] of Object.entries(quantities)) {
        if (quantity > 0) {
          doc.setFontSize(12);
          doc.text(`${itemName} - Qty: ${quantity}`, 10, y);
          y += 10;
        }
      }

      // Save the PDF
      doc.save(`grocery-list-${currentMonth}.pdf`);
    }

    // Initialize quantities for all items on page load
    function initializeAllQuantities() {
      initializeQuantity('Pigeon Pea (Toor Dal)');
      initializeQuantity('Urad Dal');
      initializeQuantity('Chickpea Split (Chana Dal)');
      initializeQuantity('Black Chickpeas');
      initializeQuantity('White Chickpeas');
      initializeQuantity('Basmati Rice');
      initializeQuantity('Aromatic Rice');
      initializeQuantity('Rice for Idly');
      initializeQuantity('Raw Rice');
      initializeQuantity('Turmeric Powder');
      initializeQuantity('Sambar Powder');
      initializeQuantity('Garam Masala');
    }

    initializeAllQuantities();
  </script>
</body>
</html>
